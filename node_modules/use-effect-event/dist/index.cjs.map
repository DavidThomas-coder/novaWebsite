{"version":3,"file":"index.cjs","sources":["../src/useEffectEvent.ts"],"sourcesContent":["import {useCallback, useInsertionEffect, useRef} from 'react'\n\n/**\n * This is a ponyfill of the upcoming `useEffectEvent` hook that'll arrive in React 19.\n * https://19.react.dev/learn/separating-events-from-effects#declaring-an-effect-event\n * To learn more about the ponyfill itself, see: https://blog.bitsrc.io/a-look-inside-the-useevent-polyfill-from-the-new-react-docs-d1c4739e8072\n * @public\n */\nexport function useEffectEvent<\n  const T extends (\n    ...args: // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    any[]\n  ) => void,\n>(fn: T): T {\n  const ref = useRef<T | null>(null)\n  useInsertionEffect(() => {\n    ref.current = fn\n  }, [fn])\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return useCallback((...args: any) => {\n    const latestFn = ref.current!\n    return latestFn(...args)\n  }, []) as unknown as T\n}\n"],"names":["useRef","useInsertionEffect","useCallback"],"mappings":";;;AAQO,SAAS,eAKd,IAAU;AACJ,QAAA,MAAMA,aAAiB,IAAI;AACjC,SAAAC,MAAA,mBAAmB,MAAM;AACvB,QAAI,UAAU;AAAA,KACb,CAAC,EAAE,CAAC,GAEAC,MAAAA,YAAY,IAAI,SAAc;AACnC,UAAM,WAAW,IAAI;AACd,WAAA,SAAS,GAAG,IAAI;AAAA,EACzB,GAAG,CAAE,CAAA;AACP;;"}